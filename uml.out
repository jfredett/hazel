@startuml
class PieceBoard {
  .. fields ..
  pub board: [Occupant; 64]
  .. methods ..
  From<BEN>::from(ben: BEN)
  From<&BEN>::from(ben: &BEN)
  From<FEN>::from(fen: FEN)
  From<&FEN>::from(fen: &FEN)
  Default::default()
  Query::get(&self, square: impl Into<Square>)
  Alter::alter(&self, alter: Alteration) 
}

class MoveGenerator {
  .. fields ..
  position: Position
  .. methods ..
  new(position: Position) 
}

class Hazel {
  .. fields ..
  flags: HashMap<String, bool>
  .. methods ..
  new()
  input_widget(&self) 
}

class Stockfish {
  .. fields ..
  child: Child
  .. methods ..
  Default::default()
  new() 
}

class UCIOption {
  .. fields ..
  name: String
  .. methods ..
  new(name: String, option_type: String, default: String, min: String, max: String, var: Vec<String>)
  empty()
  parse(option: &str) 
}

class CastleRights {
  .. fields ..
  pub white_short: bool
  .. methods ..
  From<u8>::from(castling: u8)
  From<u32>::from(castling: u32)
  Arbitrary::arbitrary(g: &mut Gen) 
}

class Familiar {
  .. fields ..
  cursor: Cursor<'a, Action<Move, BEN>>
  .. methods ..
   
}

class ChessGame {
  .. fields ..
  pub rep: T
  .. methods ..
   
}

class PositionMetadata {
  .. fields ..
  pub side_to_move: Color
  .. methods ..
  Default::default()
  From<u32>::from(data: u32)
  Arbitrary::arbitrary(g: &mut Gen) 
}

class Variation {
  .. fields ..
  log: Log<Action<Move, BEN>>
  .. methods ..
  new()
  familiar(&mut self)
  current_position(&mut self) 
}

class BEN {
  .. fields ..
  position: [u8; 32]
  .. methods ..
  From<ChessGame<T>>::from(game: ChessGame<T>)
  From<FEN>::from(fen: FEN)
  From<PieceBoard>::from(pb: PieceBoard)
  Query::get(&self, square: impl Into<Square>)
  Alter::alter(&self, alter: Alteration)
  new(pos: &str)
  empty()
  with_metadata(metadata: PositionMetadata)
  metadata(&self)
  side_to_move(&self) 
}

class FEN {
  .. fields ..
  fen: crate::notation::fen::FEN
  .. methods ..
  From<PieceBoard>::from(board: PieceBoard)
  From<ChessGame<T>>::from(game: ChessGame<T>)
  From<BEN>::from(ben: BEN)
  From<&BEN>::from(ben: &BEN)
  Query::get(&self, s: impl Into<Square>)
  Alter::alter(&self, alteration: Alteration)
  Default::default()
  start_position()
  position(&self)
  with_default_metadata(fen: &str)
  with_metadata(position: impl Into<Position>, metadata: PositionMetadata)
  new(fen: crate::notation::fen::FEN)
  side_to_move(&self)
  castling(&self)
  setup(&self)
  metadata(&self)
  From<&PieceBoard>::from(board: &PieceBoard)
  set_style(mut self, style: Style)
  alignment(mut self, alignment: Alignment)
  center(self) 
}

class Position {
  .. fields ..
  position_string: String
  .. methods ..
  new(fen: &str)
  From<C>::from(c: C)
  Default::default() 
}

class PGN {
  .. fields ..
  tag_pairs: Vec<TagPair>
  .. methods ..
  familiar(&mut self)
  current_position(&self) 
}

class TagPair {
  .. fields ..
  pub(crate) name: String
  .. methods ..
   
}

class SAN {
  .. fields ..
  source_piece: Option<Piece>
  .. methods ..
  new(fen: impl Into<BEN>) 
}

class RankIterator {
  .. fields ..
  rank: usize
  .. methods ..
   
}

class RankFile {
  .. fields ..
  done: bool
  .. methods ..
  Default::default()
  From<Square>::from(square: Square)
  last_square(&self)
  current_square(&self) 
}

class UCI {
  .. fields ..
  source: Square
  .. methods ..
  From<Move>::from(mov: Move) 
}

class IndexIterator {
  .. fields ..
  source: Bitboard
  .. methods ..
   
}

class Cursor {
  .. fields ..
  log: &'a Log<T>
  .. methods ..
   
}

class Log {
  .. fields ..
  log: Vec<T>
  .. methods ..
   
}

class Transaction {
  .. fields ..
  content: Vec<T>
  .. methods ..
   
}

class WriteHead {
  .. fields ..
  log: &'a mut Log<T>
  .. methods ..
   
}

class MoveSheet {
  .. fields ..
  sheet: Vec<MoveSheetEntry>
  .. methods ..
  new() 
}

class PEXTBoard {
  .. fields ..
  table: Box<[Bitboard; SIZE]>
  .. methods ..
   
}

class Witch {
  .. fields ..
  pub state: S
  .. methods ..
   
}

class WitchHandle {
  .. fields ..
  inbox: mpsc::Sender<MessageForWitch<BUF_SIZE, S, R>>
  .. methods ..
   
}

class Board {
  .. fields ..
  state: PieceBoard
  .. methods ..
   
}

class EngineIOSection {
  .. fields ..
  output: Output
  .. methods ..
   
}

class BoardSection {
  .. fields ..
  board_widget: Board<'a>
  .. methods ..
   
}

class InfoSection {
  .. fields ..
  pgn: PGNSection
  .. methods ..
  new(pgn: PGN) 
}

class PGNSection {
  .. fields ..
  current_position: usize
  .. methods ..
  new(pgn: PGN) 
}

class GameSectionLayout {
  .. fields ..
  info_section: InfoSection
  .. methods ..
   
}

class Input {
  .. fields ..
  content: String
  .. methods ..
  content(&self)
  flush(&mut self) 
}

class Output {
  .. fields ..
  buffer: Vec<String>
  .. methods ..
   
}

class Placeholder {
  .. fields ..
  width: u16
  .. methods ..
  of_size( width: u16, height: u16)
  borders(mut self, borders: Borders)
  text(mut self, text: &'static str)
  calculate_text(&self)
  set_style(mut self, style: Style) 
}

class SmallBoard {
  .. fields ..
  board: PieceBoard
  .. methods ..
  from(board: &PieceBoard) 
}

class Tile {
  .. fields ..
  engine_io_section: EngineIOSection
  .. methods ..
  new()
  query_line(&self) 
}

class Charray {
  .. fields ..
  origin: Origin
  .. methods ..
   
}

class Mask {
  .. fields ..
  command: String
  .. methods ..
   
}

@enduml
