                                                                                                                                                                                                                                                                                                                                                                                                                                                                   ┌──────────────────────────────────┐                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                                                                                                                                                                                                                   │CastleRights                      │                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                                                                                                                                                                                                                   ├──────────────────────────────────┤                                                                                                                                                                                                ┌────────────────────────┐                                                                                                                                                                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                                                                                                                                                                                                                                   │.. fields ..                      │                                                                                                                                                                                                │TagPair                 │                                                                                                                                                                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                                                                                                                                                                                                                                   │pub white_short: bool             │                                                                                                                                                                                                ├────────────────────────┤                                                                                                                                                                                                                                                                                                                                                                                                          
                              ┌──────────────┐                       ┌───────────────┐          ┌──────────────────────┐                                                                                                                                               ┌───────────┐                                  ┌─────┐   ┌──────────────────────┐   ┌──────────┐   ┌──────────────────────┐     ┌──────────────┐                                  ┌─────┐   │pub white_long: bool              │                            ┌─────────────────────────────┐   ┌──────────────┐            ┌────────────────────┐   ┌─────────┐                 ┌─────┐             ┌───────┐   ┌────────────┐   │.. fields ..            │  ┌──────────┐   ┌─────────────┐   ┌────┐     ┌─────────────┐   ┌─────────────┐                 ┌────────┐   ┌──────────────┐   ┌───────────────────┐       ┌──────┐            ┌──────────────┐         ┌─────────────────────┐                       ┌─┐   ┌─────────┐   ┌────┐                                 ┌───────────────────┐                          ┌─────────┐   ┌──────┐   ┌────────────┐  
                              │[Occupant; 64]│                       │Vec<Alteration>│          │Log<Action<Move, BEN>>│                                                                                                                                               │Vec<String>│                                  │Child│   │BufReader<ChildStdout>│   │ChildStdin│   │ReceiverStream<String>│     │Option<Square>│                                  │Color│   │pub black_short: bool             │                            │Cursor<'a, Action<Move, BEN>>│   │Vec<MoveSheet>│            │crate::notation::fen│   │Alignment│                 │Style│             │Borders│   │&'static str│   │pub(crate) name: String │  │&'a Log<T>│   │Option<usize>│   │File│     │RankDirection│   │FileDirection│                 │Bitboard│   │Transaction<T>│   │Vec<Transaction<T>>│       │Vec<T>│            │&'a mut Log<T>│         │Box<[Bitboard; SIZE]>│                       │S│   │broadcast│   │mpsc│                                 │Arc<Mutex<broadcast│                          │Board<'a>│   │Origin│   │[[u8; W]; H]│  
                              ├──────────────┤                       ├───────────────┤          ├──────────────────────┤                                                                                                                                               ├───────────┤                                  ├─────┤   ├──────────────────────┤   ├──────────┤   ├──────────────────────┤     ├──────────────┤                                  ├─────┤   │pub black_long: bool              │                            ├─────────────────────────────┤   ├──────────────┤            ├────────────────────┤   ├─────────┤                 ├─────┤             ├───────┤   ├────────────┤   │pub(crate) value: String│  ├──────────┤   ├─────────────┤   ├────┤     ├─────────────┤   ├─────────────┤                 ├────────┤   ├──────────────┤   ├───────────────────┤       ├──────┤            ├──────────────┤         ├─────────────────────┤                       ├─┤   ├─────────┤   ├────┤                                 ├───────────────────┤                          ├─────────┤   ├──────┤   ├────────────┤  
                              └──────────────┘                       └───────────────┘          └──────────────────────┘                                                                                                                                               └───────────┘                                  └─────┘   └──────────────────────┘   └──────────┘   └──────────────────────┘     └──────────────┘                                  └─────┘   │.. methods ..                     │                            └─────────────────────────────┘   └──────────────┘            └────────────────────┘   └─────────┘                 └─────┘             └───────┘   └────────────┘   │.. methods ..           │  └──────────┘   └─────────────┘   └────┘     └─────────────┘   └─────────────┘                 └────────┘   └──────────────┘   └───────────────────┘       └──────┘            └──────────────┘         └─────────────────────┘                       └─┘   └─────────┘   └────┘                                 └───────────────────┘                          └─────────┘   └──────┘   └────────────┘  
                                      |                                      |                              |                                                                                                                                                                                                                               |                                                                                                                      │From<u8>::from(castling: u8)      │                                                                                                                                                                                                │                        │                                                                        |                            |                                                                                  |                           |                                             |                                                         |                                         |                                   
                                      |                                      |                              |                                                                                                                                                                                                                               |                                                                                                                      │From<u32>::from(castling: u32)    │                                                                                                                                                                                                └────────────────────────┘                                                                        |                            |                                                                                  |                           |                                             |                                                         |                                         |                                   
                                      |                                      |                              |                                                                                                                                                                                                                               |                                                                                                                      │Arbitrary::arbitrary(g: &mut Gen) │                                                                                                                                                                                                                                                                                                  |                            |                                                                                  |                           |                                             |                                                         |                                         |                                   
                                      |                                      |                              |                                                                                                                                                                                                                               |                                                                                                                      └──────────────────────────────────┘                                                                                                                                                                                                                                                                                                  |                            |                                                                                  |                           |                                             |                                                         |                                         |                                   
                                      |                                      |                              |                                                                                                                                                                                                                               |                                                                                                                                                                                                                                                                                                                                                                                                                                                            |                            |                                                                                  |                           |                                             |                                                         |                                         |                                   
                                      |                                      |                              |                                                                                                                                                                                                                               |                                                                                                                                                                                                                                                                                                                                                                                                                                                            |                            |                                                                                  |                           |                                             |                                                         |                                         |                                   
                                      |                                      |                              |                                                                                                                                                                                                                               |                                                                                                                                                                                                                                         ┌────────────────────────────────────────────────────────────────────────┐                                                                                                                                         |                            |                                                                                  |                           |                                             |                                                         |                                         |                                   
                                      |                                      |                              |                                                                                                                                                                                                                               |                                                                                                                                                                                                                                         │FEN                                                                     │                                                                                                                                         |                            |                                                                                  |                           |                                             |                                                         |                                         |                                   
                                      |                                      |                              |                                                                                                                                                                                                                               |                                                                                                                                                                                                                                         ├────────────────────────────────────────────────────────────────────────┤                                                                                                                                         |                            |                                                                                  |                           |                                             |                                                         |                                         |                                   
                                      |                                      |                              |                                                                                                                                                                                                                               |                                                                                                                                                                                                                                         │.. fields ..                                                            │                                                                                                                                         |                            |                                                                                  |                           |                                             |                                                         |                                         |                                   
                                      |                                      |                              |                                                                                                                                                                                                                               |                                                                                                                                                                                                                                         │fen: crate::notation::fen::FEN                                          │                                                                                                                                         |                            |                                                                                  |                           |                                             |                                                         |                                         |                                   
                                      |                                      |                              |                                                                                                                                                                                                                               |                                                                                                                                                                                                                                         │style: Style                                                            │                                                                                                                                         |                            |                                                                                  |                           |                                             |                                                         |                                         |                                   
                                      |                                      |                              |                                                                                                                                                                                                                               |                                                                                                                                                                                                                                         │alignment: Alignment                                                    │   ┌───────────────────────────────────┐                                                                                                 |                            |                                                                                  |                           |                                             |                                                         |                                         |                                   
               ┌────────────────────────────────────────────┐                |                              |                                                               ┌───────────────────────────────────────────────────────────────────────────────────────────────────┐                                                           |                                                                                                            ┌──────────────────────────────────┐                                                                                         │.. methods ..                                                           │   │Placeholder                        │                                                                               ┌──────────────────────────────────┐           |                                                                                  |                           |                                             |                                                         |                                         |                                   
               │PieceBoard                                  │                |                              |                                                               │UCIOption                                                                                          │                                                           |                                                                                                            │PositionMetadata                  │                                                                                         │From<PieceBoard>::from(board: PieceBoard)                               │   ├───────────────────────────────────┤                                                                               │RankFile                          │           |                                                                                  |                           |                                             |                                                         |                                         |                                   
               ├────────────────────────────────────────────┤   ┌─────────────────────────┐  ┌────────────────────────────┐                                                 ├───────────────────────────────────────────────────────────────────────────────────────────────────┤                                           ┌──────────────────────────────┐        ┌──────────────────────────────────┐                                                 ├──────────────────────────────────┤                                                                                         │From<ChessGame<T>>::from(game: ChessGame<T>)                            │   │.. fields ..                       │                                                  ┌────────────────────────┐   ├──────────────────────────────────┤           |                    ┌───────────────────────────┐                                 |                           |                 ┌──────────────────────────────────────────────────────┐                              |                                         |                                   
               │.. fields ..                                │   │Position                 │  │Variation                   │                           ┌─────────────────┐   │.. fields ..                                                                                       │   ┌───────────────────┐                   │Stockfish                     │        │Mask                              │                                                 │.. fields ..                      │                                       ┌─────────────────────────────────────┐           │From<BEN>::from(ben: BEN)                                               │   │width: u16                         │                     ┌───────────────────────┐    │RankIterator            │   │.. fields ..                      │  ┌────────────────┐            │Log                        │   ┌───────────────┐   ┌───────────────────┐  ┌────────────────────────────┐   │Witch                                                 │   ┌────────────────────────────────────────────────────┐   ┌───────────────────────┐   ┌──────────────────┐
               │pub board: [Occupant; 64]                   │   ├─────────────────────────┤  ├────────────────────────────┤                           │Input            │   │name: String                                                                                       │   │Output             │                   ├──────────────────────────────┤        ├──────────────────────────────────┤                                                 │pub side_to_move: Color           │                                       │Familiar                             │           │From<&BEN>::from(ben: &BEN)                                             │   │height: u16                        │                     │Cursor                 │    ├────────────────────────┤   │done: bool                        │  │IndexIterator   │            ├───────────────────────────┤   │Transaction    │   │WriteHead          │  │PEXTBoard                   │   ├──────────────────────────────────────────────────────┤   │WitchHandle                                         │   │BoardSection           │   │Charray           │
 ┌─────────┐   │tmp: ()                                     │   │.. fields ..             │  │.. fields ..                │   ┌────────────┐          ├─────────────────┤   │option_type: String                                                                                │   ├───────────────────┤                   │.. fields ..                  │        │.. fields ..                      │                                           ┌─┐   │pub castling: CastleRights        │                          ┌────────┐   ├─────────────────────────────────────┤           │Query::get(&self, s: impl Into<Square>)                                 │   │borders: Borders                   │                     ├───────────────────────┤    │.. fields ..            │   │rank: usize                       │  ├────────────────┤            │.. fields ..               │   ├───────────────┤   ├───────────────────┤  ├────────────────────────────┤   │.. fields ..                                          │   ├────────────────────────────────────────────────────┤   ├───────────────────────┤   ├──────────────────┤
 │Table<'a>│   │.. methods ..                               │   │position_string: String  │  │log: Log<Action<Move, BEN>> │   │Vec<TagPair>│          │.. fields ..     │   │default: String                                                                                    │   │.. fields ..       │                   │child: Child                  │        │command: String                   │                                           │T│   │pub en_passant: Option<Square>    │                          │[u8; 32]│   │.. fields ..                         │           │Alter::alter(&self, alteration: Alteration)                             │   │text: &'static str                 │                     │.. fields ..           │    │rank: Option<usize>     │   │file: usize                       │  │.. fields ..    │            │log: Vec<T>                │   │.. fields ..   │   │.. fields ..       │  │.. fields ..                │   │pub state: S                                          │   │.. fields ..                                        │   │.. fields ..           │   │.. fields ..      │
 ├─────────┤   │From<BEN>::from(ben: BEN)                   │   │position: Vec<Alteration>│  │halted: bool                │   ├────────────┤          │content: String  │   │min: String                                                                                        │   │buffer: Vec<String>│                   │stdin: ChildStdin             │        │pub stdin: ChildStdin             │                                           ├─┤   │pub halfmove_clock: u8            │                          ├────────┤   │cursor: Cursor<'a, Action<Move, BEN>>│           │Default::default()                                                      │   │style: Style                       │                     │log: &'a Log<T>        │    │file: File              │   │rank_direction: RankDirection     │  │source: Bitboard│            │current_txn: Transaction<T>│   │content: Vec<T>│   │log: &'a mut Log<T>│  │table: Box<[Bitboard; SIZE]>│   │inbox: mpsc::Receiver<MessageForWitch<BUF_SIZE, S, R>>│   │inbox: mpsc::Sender<MessageForWitch<BUF_SIZE, S, R>>│   │board_widget: Board<'a>│   │origin: Origin    │
 └─────────┘   │From<&BEN>::from(ben: &BEN)                 │   │.. methods ..            │  │.. methods ..               │   └────────────┘          │.. methods ..    │   │max: String                                                                                        │   │.. methods ..      │                   │stdout: BufReader<ChildStdout>│        │pub stdout: ReceiverStream<String>│                                           └─┘   │pub fullmove_number: u16          │                          └────────┘   │movesheets: Vec<MoveSheet>           │           │start_position()                                                        │   │.. methods ..                      │                     │position: Option<usize>│    │direction: RankDirection│   │file_direction: FileDirection     │  │.. methods ..   │            │stack: Vec<Transaction<T>> │   │finished: bool │   │position: usize    │  │.. methods ..               │   │sase: mpsc::Sender<MessageForWitch<BUF_SIZE, S, R>>   │   │outbox: Arc<Mutex<broadcast::Receiver<R>>>          │   │.. methods ..          │   │data: [[u8; W]; H]│
               │From<FEN>::from(fen: FEN)                   │   │new(fen: &str)           │  │new()                       │                           │content(&self)   │   │var: Vec<String>                                                                                   │   │                   │                   │.. methods ..                 │        │pub stderr: ReceiverStream<String>│                                                 │.. methods ..                     │                               |       │.. methods ..                        │           │position(&self)                                                         │   │of_size( width: u16, height: u16)  │                     │.. methods ..          │    │.. methods ..           │   │.. methods ..                     │  │                │            │write_head: usize          │   │.. methods ..  │   │.. methods ..      │  │                            │   │outbox: broadcast::Sender<R>                          │   │.. methods ..                                       │   │                       │   │.. methods ..     │
               │From<&FEN>::from(fen: &FEN)                 │   │From<C>::from(c: C)      │  │familiar(&mut self)         │                           │flush(&mut self) │   │.. methods ..                                                                                      │   └───────────────────┘                   │Default::default()            │        │.. methods ..                     │                                                 │Default::default()                │                               |       │                                     │           │with_default_metadata(fen: &str)                                        │   │borders(mut self, borders: Borders)│                     │                       │    │                        │   │Default::default()                │  └────────────────┘            │.. methods ..              │   │               │   │                   │  └────────────────────────────┘   │.. methods ..                                         │   │                                                    │   └───────────────────────┘   │                  │
               │Default::default()                          │   │Default::default()       │  │current_position(&mut self) │                           └─────────────────┘   │new(name: String, option_type: String, default: String, min: String, max: String, var: Vec<String>)│                                           │new()                         │        │                                  │                                                 │From<u32>::from(data: u32)        │                               |       └─────────────────────────────────────┘           │with_metadata(position: impl Into<Position>, metadata: PositionMetadata)│   │text(mut self, text: &'static str) │                     └───────────────────────┘    └────────────────────────┘   │From<Square>::from(square: Square)│                                │                           │   └───────────────┘   └───────────────────┘                                   │                                                      │   └────────────────────────────────────────────────────┘                               └──────────────────┘
               │Query::get(&self, square: impl Into<Square>)│   └─────────────────────────┘  └────────────────────────────┘                                                 │empty()                                                                                            │                                           └──────────────────────────────┘        └──────────────────────────────────┘                                                 │Arbitrary::arbitrary(g: &mut Gen) │                               |                                                         │new(fen: crate::notation::fen::FEN)                                     │   │calculate_text(&self)              │                                                                               │last_square(&self)                │                                └───────────────────────────┘                                                                               └──────────────────────────────────────────────────────┘                                                                                                            
               │Alter::alter(&self, alter: Alteration)      │                |                                                                                              │parse(option: &str)                                                                                │                                                                                                                                                                        └──────────────────────────────────┘                               |                                                         │side_to_move(&self)                                                     │   │set_style(mut self, style: Style)  │                                                                               │current_square(&self)             │                                                                                                                                                                                                                                                                                                                
               └────────────────────────────────────────────┘                |                                                                                              └───────────────────────────────────────────────────────────────────────────────────────────────────┘                                                                                                                                                                                                                                           |                                                         │castling(&self)                                                         │   └───────────────────────────────────┘                                                                               └──────────────────────────────────┘                                                                                                                                                                                                                                                                                                                
                                      |                                      |                                                                                                                                                                                                                                                                                                                                                                                                                                              |                                                         │setup(&self)                                                            │                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
                                      |                                      |                                                                                                                                                                                                                                                                                                                                                                                                                                              |                                                         │metadata(&self)                                                         │                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
                                      |                                      |                                                                                                                                                                                                                                                                                                                                                                                                                                              |                                                         │From<&PieceBoard>::from(board: &PieceBoard)                             │                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
                                      |                                      |                                                                                                                                                                                                                                                                                                                                                                                                                                              |                                                         │set_style(mut self, style: Style)                                       │                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
                                      |                                      |                                                                                                                                                                                                                                                                                                                                                                                                                                              |                                                         │alignment(mut self, alignment: Alignment)                               │                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
                                      |                                      |                                                                                                                                                                                                                                                                                                                                                                                                                                              |                                                         │center(self)                                                            │                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
                                      |                                      |                                                                                                                                                                                                                                                                                                                                                                                                                                              |                                                         └────────────────────────────────────────────────────────────────────────┘                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
                                      |                                      |                                                                                                                                                                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
                                      |                                      |                                                                                                                                                                                                                                                                                                                                                                                                                       ┌────────────────────────────────────────────┐                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
                                      |                                      |                                                                                                                                                                                                                                                                                                                                                                                                                       │BEN                                         │                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
                                      |                                      |                                                                                                                                                                                                                                                                                                                                                                                                                       ├────────────────────────────────────────────┤                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
                                      |                                      |                                                                                                                                                                                                                                                                                                                                                                                                                       │.. fields ..                                │                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
                                      |                                      |                                        ┌────────────────────────┐                                                                                                                                                                                                                                                                                                                                                     │position: [u8; 32]                          │                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
┌─────────────────┐     ┌─────────────────────────┐             ┌────────────────────────┐                            │PGN                     │         ┌───────────────┐                                                                                                                                                                                                                                                                      ┌──────────────────────────────┐                     │metadata: PositionMetadata                  │                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
│Board            │     │SmallBoard               │             │MoveGenerator           │                            ├────────────────────────┤         │EngineIOSection│                                                                                                                                                                                                                                                                      │ChessGame                     │                     │.. methods ..                               │                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
├─────────────────┤     ├─────────────────────────┤             ├────────────────────────┤                            │.. fields ..            │         ├───────────────┤                                                                                                                                                                                                                                            ┌─────────────────────┐   ├──────────────────────────────┤   ┌─────────────┐   │From<ChessGame<T>>::from(game: ChessGame<T>)│   ┌──────┐  ┌────────┐       ┌─────────┐   ┌───────────────────┐                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       
│.. fields ..     │     │.. fields ..             │             │.. fields ..            │                            │tag_pairs: Vec<TagPair> │         │.. fields ..   │                                                                                                                                                                                                                                            │Option<Disambiguator>│   │.. fields ..                  │   │Option<Piece>│   │From<FEN>::from(fen: FEN)                   │   │Square│  │MoveType│       │Vec<Move>│   │Vec<MoveSheetEntry>│                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       
│state: PieceBoard│     │board: PieceBoard        │             │position: Position      │                            │variation: Variation    │         │output: Output │                                                                                                                                                                                                                                            ├─────────────────────┤   │pub rep: T                    │   ├─────────────┤   │From<PieceBoard>::from(pb: PieceBoard)      │   ├──────┤  ├────────┤       ├─────────┤   ├───────────────────┤                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       
│board: Table<'a> │     │.. methods ..            │             │.. methods ..           │                            │.. methods ..           │         │input: Input   │                                                                                                                                                                                                                                            └─────────────────────┘   │pub metadata: PositionMetadata│   └─────────────┘   │Query::get(&self, square: impl Into<Square>)│   └──────┘  └────────┘       └─────────┘   └───────────────────┘                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       
│.. methods ..    │     │from(board: &PieceBoard) │             │new(position: Position) │                            │familiar(&mut self)     │         │.. methods ..  │                                                                                                                                                                                                                                                                      │.. methods ..                 │                     │Alter::alter(&self, alter: Alteration)      │                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
│                 │     └─────────────────────────┘             └────────────────────────┘                            │current_position(&self) │         │               │                                                                                                                                                                                                                                                                      │                              │                     │new(pos: &str)                              │                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
└─────────────────┘                                                                                                   └────────────────────────┘         └───────────────┘                                                                                                                                                                                                                                                                      └──────────────────────────────┘                     │empty()                                     │                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
                                                                                                                                                                 |                                                                                                                                                                                                                                                                                                                                   │with_metadata(metadata: PositionMetadata)   │                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
                                                                                                                                                                 |                                                                                                                                                                                                                                                                                                                                   │metadata(&self)                             │                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
                                                                                                                                                                 |                                                                                                                                                                                                                                                                                                                                   │side_to_move(&self)                         │                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
                                                                                                                                                                 |                                                                                                                                                                                                                                                                                                                                   └────────────────────────────────────────────┘                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
                                                                                                                                                                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
                                                                                                                                                                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
                                                                                                                                                                 |                                                                                                                                                                                                                                                                         ┌────────────────────────────────────┐                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
                                                                                                                                                                 |                                                                                                                                                                                                                                                                         │SAN                                 │                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
                                                                                                                                                                 |                                                                                                                                                                                                                                                                         ├────────────────────────────────────┤                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                                                                                                                                                                                                           │.. fields ..                        │                                                         ┌──────────────────────────────┐                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 
                                                                                                                    ┌───────────────────────┐  ┌──────────────────────────────────┐                                                                                                                                                                                                                                                        │source_piece: Option<Piece>         │                                                         │UCI                           │  ┌──────────────────────────┐                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
                                                                                                                    │PGNSection             │  │Tile                              │                                                                                                                                                                                                                                                        │captured_piece: Option<Piece>       │                                                         ├──────────────────────────────┤  │MoveSheet                 │                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
                                                                                                                    ├───────────────────────┤  ├──────────────────────────────────┤                                                                                                                                                                                                                                                        │disambiguator: Option<Disambiguator>│                                                         │.. fields ..                  │  ├──────────────────────────┤                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
                                                                                                                    │.. fields ..           │  │.. fields ..                      │   ┌─────────────────────┐   ┌────┐                                                                                                                                                                                                                     │capturing: bool                     │                                                         │source: Square                │  │.. fields ..              │                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
                                                                                                                    │current_position: usize│  │engine_io_section: EngineIOSection│   │HashMap<String, bool>│   │Mode│                                                                                                                                                                                                                     │source_sq: Option<Square>           │                                                         │target: Square                │  │sheet: Vec<MoveSheetEntry>│                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
                                                                                                                    │pgn: PGN               │  │state: PGN                        │   ├─────────────────────┤   ├────┤                                                                                                                                                                                                                     │target_sq: Option<Square>           │                                                         │promotion_piece: Option<Piece>│  │line: Vec<Move>           │                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
                                                                                                                    │.. methods ..          │  │.. methods ..                     │   └─────────────────────┘   └────┘                                                                                                                                                                                                                     │ambiguous_sq: Option<Square>        │                                                         │metadata: MoveType            │  │initial_state: BEN        │                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
                                                                                                                    │new(pgn: PGN)          │  │new()                             │               |                                                                                                                                                                                                                                        │promotion: Option<Piece>            │                                                         │.. methods ..                 │  │.. methods ..             │                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
                                                                                                                    └───────────────────────┘  │query_line(&self)                 │               |                                                                                                                                                                                                                                        │castle_short: bool                  │                                                         │From<Move>::from(mov: Move)   │  │new()                     │                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
                                                                                                                                |              └──────────────────────────────────┘               |                                                                                                                                                                                                                                        │castle_long: bool                   │                                                         └──────────────────────────────┘  └──────────────────────────┘                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
                                                                                                                                |                                                                 |                                                                                                                                                                                                                                        │context: BEN                        │                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
                                                                                                                                |                                                                 |                                                                                                                                                                                                                                        │.. methods ..                       │                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
                                                                                                                                |                                                                 |                                                                                                                                                                                                                                        │new(fen: impl Into<BEN>)            │                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
                                                                                                                                |                                                                 |                                                                                                                                                                                                                                        └────────────────────────────────────┘                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
                                                                                                                                |                                                                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
                                                                                                                                |                                                  ┌────────────────────────────┐                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
                                                                                                                                |                                                  │Hazel                       │                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
                                                                                                                        ┌───────────────┐                                          ├────────────────────────────┤                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
                                                                                                                        │InfoSection    │                                          │.. fields ..                │                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
                                                                                                   ┌────────────────┐   ├───────────────┤                                          │flags: HashMap<String, bool>│                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
                                                                                                   │BoardSection<'a>│   │.. fields ..   │                                          │engine: ()                  │                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
                                                                                                   ├────────────────┤   │pgn: PGNSection│                                          │mode: Mode                  │                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
                                                                                                   └────────────────┘   │.. methods ..  │                                          │tile: Tile                  │                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
                                                                                                                        │new(pgn: PGN)  │                                          │.. methods ..               │                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
                                                                                                                        └───────────────┘                                          │new()                       │                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
                                                                                                                                                                                   │input_widget(&self)         │                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
                                                                                                                                                                                   └────────────────────────────┘                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
                                                                                                     ┌───────────────────────────────┐                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                     │GameSectionLayout              │                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                     ├───────────────────────────────┤                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                     │.. fields ..                   │                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                     │info_section: InfoSection      │                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                     │board_section: BoardSection<'a>│                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                     │.. methods ..                  │                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                     │                               │                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                     └───────────────────────────────┘                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
